<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ממיר מטבע, מחירי טיסות ולינה</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
            background-color: #ffecb3;
            background-image: url('https://cdn.pixabay.com/photo/2020/03/18/20/19/flower-4941711_960_720.jpg');
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
        }
        .container {
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            margin: auto;
            border: 3px solid #ff5733;
        }
        input, select, button {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ff5733;
            border-radius: 5px;
            font-size: 16px;
        }
        button {
            background-color: #ff5733;
            color: white;
            cursor: pointer;
        }
        button:hover {
            background-color: #ff4500;
        }
        footer {
            margin-top: 20px;
            font-size: 14px;
            color: #888;
        }
        #scrollButton {
            margin-top: 20px;
            background-color: #28a745;
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px;
        }
        h2 {
            color: #ff5733;
        }

        /* קישוטים לפורים */
        .holiday-decoration {
            position: absolute;
            top: 10%;
            left: 0;
            right: 0;
            z-index: -1;
        }
        /* אנימציה לקישוטים לפורים */
        .confetti {
            position: absolute;
            top: 10%;
            left: 50%;
            transform: translateX(-50%);
            animation: confetti 5s infinite;
        }

        @keyframes confetti {
            0% { opacity: 1; transform: translateY(0) rotate(0deg); }
            100% { opacity: 0; transform: translateY(100vh) rotate(360deg); }
        }
    </style>
</head>
<body>

    <!-- קישוטים לפורים -->
    <div id="holidayDecoration" class="holiday-decoration">
        <div class="confetti">
            <img src="assets/images/party-decoration.png" alt="קונפטי" width="50" />
            <img src="assets/images/party-decoration.png" alt="קונפטי" width="50" />
            <img src="assets/images/party-decoration.png" alt="קונפטי" width="50" />
        </div>
    </div>

    <div class="container">
        <h2>המרת מטבע</h2>
        <input type="number" id="amount" placeholder="הזן סכום">
        <select id="currency">
            <option value="usd">דולר ($)</option>
            <option value="eur">יורו (€)</option>
        </select>
        <button onclick="convertCurrency()">המר</button>
        <p id="result"></p>
    </div>

    <div class="container">
        <h2>חיפוש טיסות</h2>
        <input type="text" id="destination" placeholder="בחר יעד">
        <input type="date" id="departureDate" placeholder="בחר תאריך טיסה">
        <input type="number" id="days" placeholder="מספר ימים בחו\"ל">
        <input type="number" id="passengerCount" placeholder="כמות נוסעים" min="1">
        <button onclick="calculateFlights()">חשב מחירי טיסות</button>
        <ul id="flightPrices"></ul>
        <p id="finalPrice"></p>
    </div>

    <div class="container">
        <h2>חיפוש לינה</h2>
        <input type="text" id="hotelDestination" placeholder="בחר יעד לחופשה">
        <select id="hotelType">
            <option value="standard">חדר רגיל</option>
            <option value="luxury">חדר יוקרה</option>
            <option value="budget">חדר בתקציב נמוך</option>
        </select>
        <button onclick="findHotel()">חפש לינה</button>
        <ul id="hotelPrices"></ul>
        <p id="hotelFinalPrice"></p>
    </div>

    <!-- כפתור גלילה למטה -->
    <button id="scrollButton" onclick="scrollToBottom()">לרדת למטה</button>

    <script>
        // פונקציה להורדת קישוטים לפי חג
        function setHolidayDecoration() {
            const now = new Date();
            const month = now.getMonth() + 1; // חודש (מתחיל ב-0)
            const holidayDecoration = document.getElementById("holidayDecoration");

            // קישוטים לפסח
            if (month === 4) {
                holidayDecoration.innerHTML = '<img src="assets/images/passover-decoration.png" alt="פסח" width="100" />';
            }
            // קישוטים לשבועות
            else if (month === 5) {
                holidayDecoration.innerHTML = '<img src="assets/images/shavuot-decoration.png" alt="שבועות" width="100" />';
            }
            // קישוטים לחג הסוכות
            else if (month === 9) {
                holidayDecoration.innerHTML = '<img src="assets/images/sukkot-decoration.png" alt="סוכות" width="100" />';
            }
            // קישוטים לחג החנוכה
            else if (month === 12) {
                holidayDecoration.innerHTML = '<img src="assets/images/hanukkah-decoration.png" alt="חנוכה" width="100" />';
            } else {
                holidayDecoration.innerHTML = '<img src="assets/images/party-decoration.png" alt="קונפטי" width="50" />';
            }
        }

        // קריאה לפונקציה לעדכון קישוטים אוטומטי
        setHolidayDecoration();

        function scrollToBottom() {
            window.scrollTo(0, document.body.scrollHeight);
        }

        const rates = { usd: 3.56, eur: 3.73 };
        function convertCurrency() {
            let amount = document.getElementById("amount").value;
            let currency = document.getElementById("currency").value;
            if (!amount || isNaN(amount)) {
                alert("נא להזין סכום תקין");
                return;
            }
            let converted = (amount * rates[currency]).toFixed(2);
            document.getElementById("result").innerText = `תוצאה: ${converted} ₪`;
        }

        const countrySurcharges = {
            "ישראל": 1.0, "בריטניה": 1.15, "הולנד": 1.10, "גרמניה": 1.08, "צרפת": 1.05, "ספרד": 1.20,
            "דובאי": 1.30, "ארה\"ב": 1.40, "איטליה": 1.16, "יוון": 1.18, "קנדה": 1.30, "תאילנד": 1.25,
            "אוסטרליה": 1.30, "יפן": 1.35, "סין": 1.38, "אוקראינה": 1.18, "ברזיל": 1.32, "רוסיה": 1.35
        };

        function calculateFlights() {
            let destination = document.getElementById("destination").value;
            let departureDate = document.getElementById("departureDate").value;
            let days = document.getElementById("days").value;
            let passengerCount = document.getElementById("passengerCount").value || 1;
            let list = document.getElementById("flightPrices");
            let finalPriceElement = document.getElementById("finalPrice");
            list.innerHTML = "";
            finalPriceElement.innerHTML = "";

            if (!destination || !countrySurcharges[destination]) {
                alert("נא לבחור יעד תקני");
                return;
            }
            if (!days || isNaN(days) || days <= 0) {
                alert("נא להזין מספר ימים תקין");
                return;
            }

            let surcharge = countrySurcharges[destination];
            let totalPrice = 0;
            let airlines = [
                { name: "אל על", basePrice: 320 },
                { name: "ריינאייר", basePrice: 270 }
            ];

            airlines.forEach(airline => {
                let basePrice = airline.basePrice * surcharge;
                let pricePerPassenger = basePrice; // כל נוסע משלם את המחיר הבסיסי
                let totalFlightPrice = pricePerPassenger * passengerCount; // המחיר הכולל
                let li = document.createElement("li");
                li.innerText = `${airline.name}: ${totalFlightPrice.toFixed(2)} ₪`;
                list.appendChild(li);
                totalPrice += totalFlightPrice;
            });

            finalPriceElement.innerText = `המחיר הכולל: ${totalPrice.toFixed(2)} ₪`;
        }

        const hotelPrices = { standard: 200, luxury: 500, budget: 150 };

        function findHotel() {
            let hotelDestination = document.getElementById("hotelDestination").value;
            let hotelType = document.getElementById("hotelType").value;
            let hotelList = document.getElementById("hotelPrices");
            let hotelFinalPriceElement = document.getElementById("hotelFinalPrice");

            hotelList.innerHTML = "";
            hotelFinalPriceElement.innerHTML = "";

            if (!hotelDestination) {
                alert("נא להזין יעד לחופשה");
                return;
            }

            let price = hotelPrices[hotelType];
            let li = document.createElement("li");
            li.innerText = `מחיר חדר ${hotelType}: ${price} ₪`;
            hotelList.appendChild(li);
            hotelFinalPriceElement.innerText = `מחיר הסופי: ${price} ₪`;
        }
    </script>

</body>
</html>
